Use enums to implement a state transition function that switches between different states.

**Plan:**
1. Implement a method on the enum that switches between different states.
2. Create a new state in the `main` function which will be the result of the state transition.